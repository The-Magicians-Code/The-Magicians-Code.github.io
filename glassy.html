<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Liquid Glass Nav – Demo</title>
  <style>
    /* ===== Base Reset ===== */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body { margin: 0; font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color: #0c1a1f; background: #eef3f7; }
    a { color: inherit; text-decoration: none; }
    .container { width: min(1100px, 92%); margin-inline: auto; }

    /* ===== Liquid Glass Tokens ===== */
    :root{
      --glass-bg: rgba(255,255,255,0.18);
      --glass-brd: rgba(255,255,255,0.35);
      --glass-inner: inset 0 1px 0 rgba(255,255,255,.25);
      --glass-shadow: 0 8px 24px rgba(0,0,0,.18);
      --edge-highlight: linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,0) 42%);
      --ink: #0c1a1f;
      --ink-dim: #24414d;
    }

    @media (prefers-color-scheme: dark){
      :root{
        --glass-bg: rgba(22,22,24,0.32);
        --glass-brd: rgba(255,255,255,0.12);
        --glass-inner: inset 0 1px 0 rgba(255,255,255,.07);
        --glass-shadow: 0 10px 28px rgba(0,0,0,.6);
        --ink: #e9f1f4; --ink-dim: #cfe0e7; }
      body { background: radial-gradient(1200px 600px at 80% -20%, #2a3a43 0%, #0b1216 60%) fixed; }
    }

    /* ===== Glass primitives ===== */
    .glass {
      background: var(--glass-bg);
      -webkit-backdrop-filter: blur(18px) saturate(140%);
      backdrop-filter: blur(18px) saturate(140%);
      box-shadow: var(--glass-inner), var(--glass-shadow);
      border: 1px solid var(--glass-brd);
    }

    /* ===== Nav layout ===== */
    #site-nav{ position: fixed; inset: 0 0 auto 0; z-index: 40; pointer-events: none; }
    #nav-pill{ pointer-events: auto; display:flex; align-items:center; justify-content:space-between; gap:.75rem; height:64px; padding:0 .75rem; margin: 10px auto; width:min(1100px,92%); border-radius:999px; transition: background-color .35s ease, border-color .35s ease, box-shadow .4s ease, transform .35s ease, padding .3s ease; }
    #nav-pill.not-scrolled{
      background: var(--glass-bg);
      -webkit-backdrop-filter: blur(18px) saturate(140%);
      backdrop-filter: blur(18px) saturate(140%);
      border-color: var(--glass-brd);
      box-shadow: var(--glass-inner), var(--glass-shadow);
    }
    #nav-pill.scrolled{ background: var(--glass-bg); border-color: var(--glass-brd); }

    .brand-pill{ display:inline-flex; align-items:center; gap:.5rem; padding:.5rem .875rem; border-radius:999px; position:relative; overflow:hidden; }
    .brand-pill::before{ content:""; position:absolute; inset:0; pointer-events:none; background: var(--edge-highlight); opacity:.7; }
    .brand-name{ font-weight:700; letter-spacing:.2px; color:var(--ink); }

    .links{ display:flex; align-items:center; gap:1rem; font-weight:600; color:var(--ink-dim); }
    .links a{ padding:.5rem .75rem; border-radius:999px; }
    .links a:hover{ background: rgba(255,255,255,.35); }

    .spacer{ flex:1 1 auto; }

    .hamburger{ width:44px; height:44px; border-radius:999px; display:inline-grid; place-items:center; cursor:pointer; }
    .hamburger svg{ display:block; }

    /* === Dynamic contrast helpers === */
    .brand-name, .hamburger{ color: var(--nav-ink, var(--ink)); }
    .brand-pill.on-dark .brand-name{ color:#ffffff; }
    .brand-pill.on-light .brand-name{ color: var(--ink); }
    .hamburger.on-dark{ color:#ffffff; }
    .hamburger.on-light{ color: var(--ink); }
    .links a{ color: var(--nav-ink, var(--ink-dim)); }

    /* mobile split layout */
    @media (max-width: 1024px){
      .links{ display:none; }
      /* Hide the outer pill background/border/shadow but keep it as a layout row */
      #nav-pill{
        background: none !important;
        border: none !important;
        box-shadow: none !important;
        -webkit-backdrop-filter: none !important;
        backdrop-filter: none !important;
        border-radius: 0 !important;
        height: auto !important;
        width: auto !important;
        padding: 12px; /* equal padding on all sides */
        margin: 0;
      }
      .brand-pill{ padding:.5rem .75rem; }
    }

    /* desktop: hide mobile-only UI */
    @media (min-width: 1025px){
      .hamburger { display: none !important; }
      .brand-pill { display: none !important; }
      #mobile-menu { display: none !important; }
    }

    /* ===== Mobile menu (glass) ===== */
    #mobile-menu{ position: fixed; inset: 76px 0 auto 0; z-index: 30; display:flex; justify-content:center; pointer-events:none; }
    #mobile-menu .panel{ width:min(680px, 94%); border-radius:16px; padding:.5rem; transform: translateY(-8px); opacity:0; transition: transform .3s ease, opacity .3s ease, max-height .35s ease; max-height:0; overflow:hidden; }
    #mobile-menu.show{ pointer-events:auto; }
    #mobile-menu.show .panel{ transform: translateY(0); opacity:1; max-height:440px; }
    .panel a{ display:block; padding:.875rem 1rem; border-radius:12px; font-weight:600; color:var(--ink); }
    .panel a:hover{ background: rgba(255,255,255,.40); }

    /* ===== Demo page sections ===== */
    header.hero{ height:68vh; display:grid; place-items:center; text-align:center; padding-top:90px; background: radial-gradient(1200px 480px at 20% -10%, #ffffff 0%, rgba(255,255,255,0) 50%), url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1600\" height=\"400\"><defs><linearGradient id=\"g\" x1=\"0\" x2=\"1\"><stop offset=\"0\" stop-color=\"%23b6d1e1\"/><stop offset=\"1\" stop-color=\"%2398b6c8\"/></linearGradient></defs><rect width=\"100%\" height=\"100%\" fill=\"url(%23g)\"/></svg>') center/cover no-repeat; }
    header.hero h1{ font-size: clamp(34px, 6vw, 64px); margin:0; }
    header.hero p{ margin:.75rem 0 0; color:#34525f; font-size: clamp(16px, 2vw, 20px); }

    section{ padding: 80px 0; }
    .card-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:16px; }
    .card{ padding:18px; border-radius:16px; background:#ffffff; box-shadow: 0 1px 0 rgba(0,0,0,.05), 0 10px 22px rgba(0,0,0,.06); }
  </style>
</head>
<body>

  <!-- ===== Top Nav (morphs to Liquid Glass on scroll) ===== -->
  <div id="site-nav">
    <div id="nav-pill" class="glass not-scrolled">
      <!-- Left: brand pill -->
      <a class="brand-pill glass" href="#home" aria-label="Home">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 2l8 4v6c0 5-3 8-8 10C7 20 4 17 4 12V6l8-4Z" fill="#0ea5e9"/></svg>
        <span class="brand-name">Tourera</span>
      </a>

      <!-- Middle: links (hidden on mobile) -->
      <nav class="links" aria-label="Primary">
        <a href="#services">Services</a>
        <a href="#industries">Industries</a>
        <a href="#news">News</a>
        <a href="#contact">Contact</a>
      </nav>

      <div class="spacer"></div>

      <!-- Right: hamburger (mobile), subtle CTA on desktop if desired -->
      <button id="hamburger" class="hamburger glass" aria-controls="mobile-menu" aria-expanded="false" aria-label="Open menu">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>
  </div>

  <!-- Mobile glass dropdown -->
  <div id="mobile-menu">
    <div class="panel glass">
      <a href="#services">Services</a>
      <a href="#industries">Industries</a>
      <a href="#news">News</a>
      <a href="#contact">Contact</a>
      <a href="#cta">Get Started</a>
    </div>
  </div>

  <!-- ===== Demo content to make scrolling obvious ===== -->
  <header id="home" class="hero">
    <div class="container">
      <h1>Apple‑style Liquid Glass Nav</h1>
      <p>Scroll a little — the bar morphs into a floating glass pill. On mobile it splits into a brand pill (left) and a glass circle (right).</p>
    </div>
  </header>

  <section id="services">
    <div class="container">
      <h2>Services</h2>
      <div class="card-grid">
        <div class="card">Design systems</div>
        <div class="card">Native apps</div>
        <div class="card">Web experiences</div>
        <div class="card">Motion &amp; 3D</div>
      </div>
    </div>
  </section>

  <section id="industries" style="background:#f6fafc;">
    <div class="container">
      <h2>Industries</h2>
      <div class="card-grid">
        <div class="card">Fintech</div>
        <div class="card">Healthcare</div>
        <div class="card">Consumer</div>
        <div class="card">Automotive</div>
      </div>
    </div>
  </section>

  <section id="news">
    <div class="container">
      <h2>News</h2>
      <p>More content… keep scrolling to see the morph persist.</p>
      <div class="card-grid">
        <div class="card">Post 1</div>
        <div class="card">Post 2</div>
        <div class="card">Post 3</div>
      </div>
    </div>
  </section>

  <section id="contact" style="background:#f6fafc;">
    <div class="container">
      <h2>Contact</h2>
      <p>hello@example.com</p>
    </div>
  </section>

  <script>
    // Morph the nav into a glass pill on scroll
    function setNavScrollState(){
      const pill = document.getElementById('nav-pill');
      if(!pill) return;
      const scrolled = window.scrollY > 10;
      pill.classList.toggle('scrolled', scrolled);
      pill.classList.toggle('not-scrolled', !scrolled);
    }

    // --- Dynamic contrast per side (left brand, right hamburger) ---
    function getBgLuminance(el){
      if(!el) return 1; // assume light
      const cs = window.getComputedStyle(el);
      // prefer background-color; if transparent, walk up
      let bg = cs.backgroundColor;
      let cur = el;
      while(bg === 'rgba(0, 0, 0, 0)' || bg === 'transparent'){
        cur = cur.parentElement;
        if(!cur) break;
        bg = window.getComputedStyle(cur).backgroundColor;
      }
      const m = bg.match(/rgba?\(([^)]+)\)/);
      if(!m) return 1;
      const parts = m[1].split(',').map(v=>parseFloat(v.trim()));
      const [r,g,b] = parts;
      // relative luminance (sRGB approx)
      const L = (0.2126*r + 0.7152*g + 0.0722*b)/255;
      return L; // 0 dark .. 1 light
    }

    function updateNavContrast(){
      const pill = document.getElementById('nav-pill');
      const brand = document.querySelector('.brand-pill');
      const burger = document.getElementById('hamburger');
      if(!pill || !brand || !burger) return;

      // temporarily ignore the nav for hit-testing
      const prevPEPill = pill.style.pointerEvents;
      pill.style.pointerEvents = 'none';

      const rect = pill.getBoundingClientRect();
      const y = rect.top + rect.height/2;
      const leftX = rect.left + 24; // near brand pill
      const rightX = rect.right - 24; // near hamburger

      const leftUnder = document.elementFromPoint(leftX, y);
      const rightUnder = document.elementFromPoint(rightX, y);

      pill.style.pointerEvents = prevPEPill;

      const leftL = getBgLuminance(leftUnder);
      const rightL = getBgLuminance(rightUnder);

      // threshold: < 0.55 is considered dark
      const leftDark = leftL < 0.55;
      const rightDark = rightL < 0.55;

      brand.classList.toggle('on-dark', leftDark);
      brand.classList.toggle('on-light', !leftDark);

      burger.classList.toggle('on-dark', rightDark);
      burger.classList.toggle('on-light', !rightDark);
    }

    // Mobile menu toggle
    const mobileMenu = document.getElementById('mobile-menu');
    const hamburger = document.getElementById('hamburger');
    function toggleMenu(){
      const open = mobileMenu.classList.contains('show');
      mobileMenu.classList.toggle('show', !open);
      hamburger.setAttribute('aria-expanded', String(!open));
    }

    // Close menu when clicking a link
    function delegateClose(e){
      if(e.target.tagName === 'A'){
        mobileMenu.classList.remove('show');
        hamburger.setAttribute('aria-expanded','false');
      }
    }

    window.addEventListener('scroll', () => { setNavScrollState(); updateNavContrast(); }, {passive:true});
    window.addEventListener('load', () => { setNavScrollState(); updateNavContrast(); });
    hamburger.addEventListener('click', toggleMenu);
    mobileMenu.addEventListener('click', delegateClose);

    // Close on resize to desktop
    window.addEventListener('resize', () => {
      if(window.innerWidth > 720){ mobileMenu.classList.remove('show'); hamburger.setAttribute('aria-expanded','false'); }
    });
    window.addEventListener('resize', updateNavContrast, {passive:true});
    // also adjust on orientation changes
    window.addEventListener('orientationchange', updateNavContrast);
  </script>
</body>
</html>
